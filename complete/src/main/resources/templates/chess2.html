<!DOCTYPE HTML>
<head>
    <title>Chess!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style>
        table, th, td {
          border: 1px solid black;
          border-collapse: collapse;
        }
        button {
          width: 50px;
          height: 50px;
          font-size: 18px;
        }
    </style>
</head>
<body>
    <h3 th:text="${turn}"></h3>
    <table>
        <tr>
            <th></th>
            <th>A</th>
            <th>B</th>
            <th>C</th>
            <th>D</th>
            <th>E</th>
            <th>F</th>
            <th>G</th>
            <th>H</th>
        </tr>
        <tr>
            <th>1</th>
            <td><button onclick="selectSquare('A1')">[[${A1}]]</button></td>
            <td><button onclick="selectSquare('B1')">[[${B1}]]</button></td>
            <td><button onclick="selectSquare('C1')">[[${C1}]]</button></td>
            <td><button onclick="selectSquare('D1')">[[${D1}]]</button></td>
            <td><button onclick="selectSquare('E1')">[[${E1}]]</button></td>
            <td><button onclick="selectSquare('F1')">[[${F1}]]</button></td>
            <td><button onclick="selectSquare('G1')">[[${G1}]]</button></td>
            <td><button onclick="selectSquare('H1')">[[${H1}]]</button></td>
        </tr>
        <tr>
            <th>2</th>
            <td><button onclick="selectSquare('A2')">[[${A2}]]</button></td>
            <td><button onclick="selectSquare('B2')">[[${B2}]]</button></td>
            <td><button onclick="selectSquare('C2')">[[${C2}]]</button></td>
            <td><button onclick="selectSquare('D2')">[[${D2}]]</button></td>
            <td><button onclick="selectSquare('E2')">[[${E2}]]</button></td>
            <td><button onclick="selectSquare('F2')">[[${F2}]]</button></td>
            <td><button onclick="selectSquare('G2')">[[${G2}]]</button></td>
            <td><button onclick="selectSquare('H2')">[[${H2}]]</button></td>
        </tr>
        <tr>
            <th>3</th>
            <td><button onclick="selectSquare('A3')">[[${A3}]]</button></td>
            <td><button onclick="selectSquare('B3')">[[${B3}]]</button></td>
            <td><button onclick="selectSquare('C3')">[[${C3}]]</button></td>
            <td><button onclick="selectSquare('D3')">[[${D3}]]</button></td>
            <td><button onclick="selectSquare('E3')">[[${E3}]]</button></td>
            <td><button onclick="selectSquare('F3')">[[${F3}]]</button></td>
            <td><button onclick="selectSquare('G3')">[[${G3}]]</button></td>
            <td><button onclick="selectSquare('H3')">[[${H3}]]</button></td>
        </tr>
        <tr>
            <th>4</th>
            <td><button onclick="selectSquare('A4')">[[${A4}]]</button></td>
            <td><button onclick="selectSquare('B4')">[[${B4}]]</button></td>
            <td><button onclick="selectSquare('C4')">[[${C4}]]</button></td>
            <td><button onclick="selectSquare('D4')">[[${D4}]]</button></td>
            <td><button onclick="selectSquare('E4')">[[${E4}]]</button></td>
            <td><button onclick="selectSquare('F4')">[[${F4}]]</button></td>
            <td><button onclick="selectSquare('G4')">[[${G4}]]</button></td>
            <td><button onclick="selectSquare('H4')">[[${H4}]]</button></td>
        </tr>
        <tr>
            <th>5</th>
            <td><button onclick="selectSquare('A5')">[[${A5}]]</button></td>
            <td><button onclick="selectSquare('B5')">[[${B5}]]</button></td>
            <td><button onclick="selectSquare('C5')">[[${C5}]]</button></td>
            <td><button onclick="selectSquare('D5')">[[${D5}]]</button></td>
            <td><button onclick="selectSquare('E5')">[[${E5}]]</button></td>
            <td><button onclick="selectSquare('F5')">[[${F5}]]</button></td>
            <td><button onclick="selectSquare('G5')">[[${G5}]]</button></td>
            <td><button onclick="selectSquare('H5')">[[${H5}]]</button></td>
        </tr>
        <tr>
            <th>6</th>
            <td><button onclick="selectSquare('A6')">[[${A6}]]</button></td>
            <td><button onclick="selectSquare('B6')">[[${B6}]]</button></td>
            <td><button onclick="selectSquare('C6')">[[${C6}]]</button></td>
            <td><button onclick="selectSquare('D6')">[[${D6}]]</button></td>
            <td><button onclick="selectSquare('E6')">[[${E6}]]</button></td>
            <td><button onclick="selectSquare('F6')">[[${F6}]]</button></td>
            <td><button onclick="selectSquare('G6')">[[${G6}]]</button></td>
            <td><button onclick="selectSquare('H6')">[[${H6}]]</button></td>
        </tr>
        <tr>
            <th>7</th>
            <td><button onclick="selectSquare('A7')">[[${A7}]]</button></td>
            <td><button onclick="selectSquare('B7')">[[${B7}]]</button></td>
            <td><button onclick="selectSquare('C7')">[[${C7}]]</button></td>
            <td><button onclick="selectSquare('D7')">[[${D7}]]</button></td>
            <td><button onclick="selectSquare('E7')">[[${E7}]]</button></td>
            <td><button onclick="selectSquare('F7')">[[${F7}]]</button></td>
            <td><button onclick="selectSquare('G7')">[[${G7}]]</button></td>
            <td><button onclick="selectSquare('H7')">[[${H7}]]</button></td>
        </tr>
        <tr>
            <th>8</th>
            <td><button onclick="selectSquare('A8')">[[${A8}]]</button></td>
            <td><button onclick="selectSquare('B8')">[[${B8}]]</button></td>
            <td><button onclick="selectSquare('C8')">[[${C8}]]</button></td>
            <td><button onclick="selectSquare('D8')">[[${D8}]]</button></td>
            <td><button onclick="selectSquare('E8')">[[${E8}]]</button></td>
            <td><button onclick="selectSquare('F8')">[[${F8}]]</button></td>
            <td><button onclick="selectSquare('G8')">[[${G8}]]</button></td>
            <td><button onclick="selectSquare('H8')">[[${H8}]]</button></td>
        </tr>
    </table>
    <form id="moveForm" action="/chess" method="post" enctype="application/x-www-form-urlencoded">
        <input type="hidden" id="move" name="move"/>
        <input type="hidden" id="gameId" name="gameId" th:value="${gameId}">
    </form>
    <p th:text="${pcMove}"></p>
    <p th:text="${answer}"></p>

    <script>
        let selectedSquare = null;

        function selectSquare(square) {
            if (!selectedSquare) {
                selectedSquare = square;
            } else {
                const move = selectedSquare + "->" + square;
                document.getElementById('move').value = move;
                document.getElementById('moveForm').submit();
                selectedSquare = null;
            }
        }
    </script>
</body>
</html>
